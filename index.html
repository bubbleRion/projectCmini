<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="root"></div>
  <script>
    const EncodingKEY = `	
aabdjVtDyODuXtGkvJfA7GEEAE%2B7oKgHMt3Vs2z1iZZy%2Fh0S9KF7iOxPZFyyqKg28lO9bKPRcx3WzJxQtZnlXg%3D%3D`
    // 디코딩키 = 디코드의 인증키
    const DecodingKEY = `aabdjVtDyODuXtGkvJfA7GEEAE+7oKgHMt3Vs2z1iZZy/h0S9KF7iOxPZFyyqKg28lO9bKPRcx3WzJxQtZnlXg==`
    // 아이템의 주소
    const ItemURL = `http://apis.data.go.kr/6300000/animalDaejeonService/animalDaejeonItem`
    // 리스트의 주소
    const ListURL = `http://apis.data.go.kr/6300000/animalDaejeonService/animalDaejeonList`
    // 키와 주소를 합쳐주는 쿼리파람스
    const queryParams = '?' + encodeURIComponent('serviceKey') + '=' + EncodingKEY;
    // root라는 id를 가진 div태그
    const root = document.getElementById("root")

    const text =
      '<language>' +
      '<name>HTML</name>' +
      '<category>web</category>' +
      '<priority>high</priority>' +
      "<standard version='5.1'>W3C</standard>" +
      '</language>';


    let xmlParser = new DOMParser();
    let xmlDoc = xmlParser.parseFromString(text, "text/xml");
    let value = xmlDoc.getElementsByTagName("name")[0].textContent;
    // console.log(value)
    (async () => {
      let response = await fetch(ListURL + queryParams);
      let t_xml = await response.text(); // 텍스트 형태로 가져오고

      console.log(t_xml);


      // 자바스크립트로 다루기위해, 파서를 통해 텍스트를 xml문서로 변환한다.
      let parseXML = new DOMParser();
      let xmlDoc = parseXML.parseFromString(t_xml, "text/xml");
    })();
  </script>
</body>

</html>